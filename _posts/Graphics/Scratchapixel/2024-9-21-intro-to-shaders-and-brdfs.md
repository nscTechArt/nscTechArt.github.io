---
title: Introduction to Shaders and BRDFs
date: 2024-09-21 23:38 +0800
categories: [Graphics, Scratchpixel]
media_subpath: /assets/img/Graphics/24-09-21/
math: true
---

### Concept of BRDF

在众多的着色模型中，shading functions都建立在两个变量的基础之上：**入射光线的方向**与**观察方向**。由此我们可以给出一个抽象的数学表达式：


$$
f_R(\omega_o, \omega_i)
$$


其中，$\omega_o$与$\omega_i$分别表示观察方向与入射方向和shading point处法线向量的夹角。在计算机图形学中，我们将这个函数称为**双向反射分布函数**，简称为**BRDF**。BRDF的意义在于，**对于给定的入射方向，返回在观察方向上反射的光量。**或者，我们也可以视BRDF为描述给定对象如何散射或反射光的函数。

BRDFs有很多实现方式，而一个好的BRDF需要满足以下要求：

- 在入射方向与反射方向的有效范围内，BRDF始终是一个**正函数**
- 满足**对称性**，当入射方向与观察方向交换式，函数返回的结果不变
- 满足**能量守恒**

---

### Radiometry

在计算机图形学中，辐射度量学通常用于描述和模拟光线的物理行为，为真实感图形渲染（如全局光照和路径追踪）提供理论基础。在深度理解BRDF之前，我们有必要先了解一些辐射度量学中的术语。

**Flux光通量**用于表示光线的能量，以瓦特为单位。它定义了单位时间内通过一个表面的光子数量。实际上我们可以将物体材质的颜色与亮度和入射光通量与反射光通量之间的比例联立在一起。

在现实世界中，物体的外观在表面上的不同位置上可能是不同的，例如大理石板。所以，在考虑表面的光通量时，我们考虑表面上一个很小很小的区域，在这个区域中，表面的光通量不会发生变换，我们将这个小区域上的表面称为**differential area**。如下图所示：

![](lp-da2.png)

当我们以**differential area**为前提进行讨论时，我们将光通量视为一种密度。到达表面的光通量被称为**irradiance**。
